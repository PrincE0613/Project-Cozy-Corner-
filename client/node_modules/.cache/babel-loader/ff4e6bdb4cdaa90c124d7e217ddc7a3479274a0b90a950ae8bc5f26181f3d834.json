{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\OneDrive\\\\Desktop\\\\C-C2\\\\Project-Cozy-Corner-\\\\client\\\\src\\\\components\\\\FavouriteButton.jsx\",\n  _s = $RefreshSig$();\nimport { HeartIcon as HeartOutline } from '@heroicons/react/24/outline';\nimport { HeartIcon as HeartSolid } from '@heroicons/react/24/solid';\nimport axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction FavoriteButton({\n  propertyId\n}) {\n  _s();\n  const [isFavorited, setIsFavorited] = useState(false);\n  useEffect(() => {\n    const checkFavorite = async () => {\n      try {\n        const token = localStorage.getItem('token');\n        if (!token) return;\n        const response = await axios.get(`http://localhost:5000/api/favorites/${propertyId}`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setIsFavorited(response.data.isFavorited);\n      } catch (err) {\n        console.error('Error checking favorite:', err);\n      }\n    };\n    checkFavorite();\n  }, [propertyId]);\n  const handleFavorite = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        alert('Please log in to favorite properties');\n        return;\n      }\n      if (isFavorited) {\n        await axios.delete(`http://localhost:5000/api/favorites/${propertyId}`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n      } else {\n        await axios.post('http://localhost:5000/api/favorites', {\n          propertyId\n        }, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n      }\n      setIsFavorited(!isFavorited);\n    } catch (err) {\n      console.error('Error toggling favorite:', err);\n      alert('Failed to update favorite');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: handleFavorite,\n    className: \"focus:outline-none\",\n    children: isFavorited ? /*#__PURE__*/_jsxDEV(HeartSolid, {\n      className: \"h-6 w-6 text-red-500\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(HeartOutline, {\n      className: \"h-6 w-6 text-gray-500\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n_s(FavoriteButton, \"1wNNK5YBdt2Kz0CZBXtim/vivtA=\");\n_c = FavoriteButton;\nexport default FavoriteButton;\nvar _c;\n$RefreshReg$(_c, \"FavoriteButton\");","map":{"version":3,"names":["HeartIcon","HeartOutline","HeartSolid","axios","useEffect","useState","jsxDEV","_jsxDEV","FavoriteButton","propertyId","_s","isFavorited","setIsFavorited","checkFavorite","token","localStorage","getItem","response","get","headers","Authorization","data","err","console","error","handleFavorite","alert","delete","post","onClick","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/ASUS/OneDrive/Desktop/C-C2/Project-Cozy-Corner-/client/src/components/FavouriteButton.jsx"],"sourcesContent":["import { HeartIcon as HeartOutline } from '@heroicons/react/24/outline';\nimport { HeartIcon as HeartSolid } from '@heroicons/react/24/solid';\nimport axios from 'axios';\nimport { useEffect, useState } from 'react';\n\nfunction FavoriteButton({ propertyId }) {\n  const [isFavorited, setIsFavorited] = useState(false);\n\n  useEffect(() => {\n    const checkFavorite = async () => {\n      try {\n        const token = localStorage.getItem('token');\n        if (!token) return;\n        const response = await axios.get(`http://localhost:5000/api/favorites/${propertyId}`, {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n        setIsFavorited(response.data.isFavorited);\n      } catch (err) {\n        console.error('Error checking favorite:', err);\n      }\n    };\n    checkFavorite();\n  }, [propertyId]);\n\n  const handleFavorite = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        alert('Please log in to favorite properties');\n        return;\n      }\n      if (isFavorited) {\n        await axios.delete(`http://localhost:5000/api/favorites/${propertyId}`, {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n      } else {\n        await axios.post(\n          'http://localhost:5000/api/favorites',\n          { propertyId },\n          { headers: { Authorization: `Bearer ${token}` } }\n        );\n      }\n      setIsFavorited(!isFavorited);\n    } catch (err) {\n      console.error('Error toggling favorite:', err);\n      alert('Failed to update favorite');\n    }\n  };\n\n  return (\n    <button onClick={handleFavorite} className=\"focus:outline-none\">\n      {isFavorited ? (\n        <HeartSolid className=\"h-6 w-6 text-red-500\" />\n      ) : (\n        <HeartOutline className=\"h-6 w-6 text-gray-500\" />\n      )}\n    </button>\n  );\n}\n\nexport default FavoriteButton;"],"mappings":";;AAAA,SAASA,SAAS,IAAIC,YAAY,QAAQ,6BAA6B;AACvE,SAASD,SAAS,IAAIE,UAAU,QAAQ,2BAA2B;AACnE,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE5C,SAASC,cAAcA,CAAC;EAAEC;AAAW,CAAC,EAAE;EAAAC,EAAA;EACtC,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGP,QAAQ,CAAC,KAAK,CAAC;EAErDD,SAAS,CAAC,MAAM;IACd,MAAMS,aAAa,GAAG,MAAAA,CAAA,KAAY;MAChC,IAAI;QACF,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAC3C,IAAI,CAACF,KAAK,EAAE;QACZ,MAAMG,QAAQ,GAAG,MAAMd,KAAK,CAACe,GAAG,CAAC,uCAAuCT,UAAU,EAAE,EAAE;UACpFU,OAAO,EAAE;YAAEC,aAAa,EAAE,UAAUN,KAAK;UAAG;QAC9C,CAAC,CAAC;QACFF,cAAc,CAACK,QAAQ,CAACI,IAAI,CAACV,WAAW,CAAC;MAC3C,CAAC,CAAC,OAAOW,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAAC,0BAA0B,EAAEF,GAAG,CAAC;MAChD;IACF,CAAC;IACDT,aAAa,CAAC,CAAC;EACjB,CAAC,EAAE,CAACJ,UAAU,CAAC,CAAC;EAEhB,MAAMgB,cAAc,GAAG,MAAAA,CAAA,KAAY;IACjC,IAAI;MACF,MAAMX,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MAC3C,IAAI,CAACF,KAAK,EAAE;QACVY,KAAK,CAAC,sCAAsC,CAAC;QAC7C;MACF;MACA,IAAIf,WAAW,EAAE;QACf,MAAMR,KAAK,CAACwB,MAAM,CAAC,uCAAuClB,UAAU,EAAE,EAAE;UACtEU,OAAO,EAAE;YAAEC,aAAa,EAAE,UAAUN,KAAK;UAAG;QAC9C,CAAC,CAAC;MACJ,CAAC,MAAM;QACL,MAAMX,KAAK,CAACyB,IAAI,CACd,qCAAqC,EACrC;UAAEnB;QAAW,CAAC,EACd;UAAEU,OAAO,EAAE;YAAEC,aAAa,EAAE,UAAUN,KAAK;UAAG;QAAE,CAClD,CAAC;MACH;MACAF,cAAc,CAAC,CAACD,WAAW,CAAC;IAC9B,CAAC,CAAC,OAAOW,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAAC,0BAA0B,EAAEF,GAAG,CAAC;MAC9CI,KAAK,CAAC,2BAA2B,CAAC;IACpC;EACF,CAAC;EAED,oBACEnB,OAAA;IAAQsB,OAAO,EAAEJ,cAAe;IAACK,SAAS,EAAC,oBAAoB;IAAAC,QAAA,EAC5DpB,WAAW,gBACVJ,OAAA,CAACL,UAAU;MAAC4B,SAAS,EAAC;IAAsB;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,gBAE/C5B,OAAA,CAACN,YAAY;MAAC6B,SAAS,EAAC;IAAuB;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE;EAClD;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACK,CAAC;AAEb;AAACzB,EAAA,CArDQF,cAAc;AAAA4B,EAAA,GAAd5B,cAAc;AAuDvB,eAAeA,cAAc;AAAC,IAAA4B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}